<div
  fxLayout="row"
  fxLayoutAlign="space-between center"
  fxLayoutGap="20px"
  class="stats-cards"
>
  <mat-card fxFlex="25">
    <app-widget-card-info
      label="Aguardando confirmação"
      total="5"
      icone="notification_important"
      [corIcone]="adquirirCorIcone(0, 5)"
    ></app-widget-card-info>
  </mat-card>
  <mat-card fxFlex="25">
    <app-widget-card-info
      label="Comandas abertas"
      total="10"
      icone="warning"
      [corIcone]="adquirirCorIcone(4, 10)"
    ></app-widget-card-info>
  </mat-card>
  <mat-card fxFlex="25">
    <app-widget-card-info
      label="Total de comandas"
      total="43"
      icone="fact_check"
      [corIcone]="adquirirCorIcone(30, 43)"
    ></app-widget-card-info>
  </mat-card>
  <mat-card fxFlex="25">
    <app-widget-card-info
      label="Produtos vendidos"
      total="85"
      icone="fiber_new"
      [corIcone]="adquirirCorIcone(100, 85)"
    ></app-widget-card-info>
  </mat-card>
</div>

<br />

<mat-divider></mat-divider>

<br />

<table
  mat-table
  *ngIf="dataSource"
  [dataSource]="dataSource"
  multiTemplateDataRows
  class="mat-elevation-z8"
>
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef>Número pedido</th>
    <td mat-cell *matCellDef="let element">{{ element.id }}</td>
  </ng-container>

  <ng-container matColumnDef="dataCadastro">
    <th mat-header-cell *matHeaderCellDef>Horário</th>
    <td mat-cell *matCellDef="let element">{{ element.dataCadastro }}</td>
  </ng-container>

  <ng-container matColumnDef="codigoCliente">
    <th mat-header-cell *matHeaderCellDef>Cliente</th>
    <td mat-cell *matCellDef="let element">{{ element.cliente.nome }}</td>
  </ng-container>

  <!-- Linha expandida -->
  <ng-container matColumnDef="expandedDetail">
    <td
      mat-cell
      *matCellDef="let element"
      [attr.colspan]="columnsToDisplay.length"
      [class]="element == pedidoExpandido ? 'expandido' : ''"
    >
      <mat-divider *ngIf="element == pedidoExpandido"></mat-divider>
      <div
        *ngIf="element == pedidoExpandido"
        class="example-element-detail row"
      >
        <mat-card
          *ngFor="let pedidoItem of element.pedidosItem"
          fxFlex="calc(25%-25px)"
          fxFlex.sm="calc(50%-25px)"
          fxFlex.md="calc(33%-25px)"
          class="mat-elevation-z4"
        >
          <mat-card-header fxLayoutAlign="center">
            <mat-card-title>{{ pedidoItem.quantidade }}x {{ pedidoItem.produto.nome }}</mat-card-title>
          </mat-card-header>

          <mat-card-content>
            <p></p>
          </mat-card-content>
          <mat-card-actions fxLayoutAlign="center center">
            <button mat-button color="accent">ACEITAR</button>
            <button mat-button color="warn">RECUSAR</button>
          </mat-card-actions>
        </mat-card>
      </div>
      <div
        class="row linha-botoes"
        fxLayoutAlign="center center"
        *ngIf="element == pedidoExpandido"
      >
        <button mat-raised-button color="accent">FINALIZAR</button>
        <button mat-raised-button color="warn">CANCELAR</button>
      </div>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
  <tr
    mat-row
    *matRowDef="let element; columns: columnsToDisplay"
    class="example-element-row"
    [class.example-expanded-row]="pedidoExpandido === element"
    (click)="pedidoExpandido = pedidoExpandido === element ? null : element"
  ></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: ['expandedDetail']"
    class="example-detail-row"
  ></tr>
</table>
